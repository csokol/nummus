{"version":3,"sources":["main/js/application/AmountFormatter.js","main/js/application/components/AmountInput.js","main/js/application/components/ExpenseForm.js","main/js/domain/Expense.js","main/js/domain/ExpenseRepository.js","main/js/domain/MonthlyBudget.js","main/js/domain/CategoryBudget.js","main/js/domain/BudgetRepository.js","main/js/application/components/ExpenseHistory.js","main/js/domain/Category.js","main/js/domain/CategoryRepository.js","main/js/domain/AutoIncrementIdGenerator.js","main/js/application/components/ExpensesDash.js","main/js/application/components/BudgetInput.js","main/js/application/components/BudgetDash.js","main/js/application/components/MonthSelector.js","main/js/application/components/AdminDash.js","main/js/domain/UUIDGenerator.js","main/js/application/components/App.js","main/js/registerServiceWorker.js","index.js"],"names":["AmountFormatter","Object","classCallCheck","this","inputDigits","cents","formattedCents","centsPart","substring","length","unitsPart","concat","missingDigits","toConsumableArray","Array","keys","reduce","v","parseInt","digit","amountCents","formatter","value","toString","i","keyDown","charAt","clear","AmountInput","props","_this","possibleConstructorReturn","getPrototypeOf","call","amountFormatter","fromCents","initialValue","_amount","state","formattedValue","formatted","event","key","preventDefault","keyCode","charCodeAt","isBackspace","isDigit","backspace","String","fromCharCode","onDigit","onAmountChanged","valueCents","setState","_this2","react_default","a","createElement","type","className","inputClass","name","onChange","onKeyDown","amountChanged","bind","ref","node","Component","defaultProps","console","warn","ExpenseForm","_validationMessages","amount","empty","target","categorySelected","categories","filter","c","id","category","onSubmit","validationErrors","push","where","onValidationError","_category","objectSpread","_this3","map","index","components_AmountInput","clearErrors","defaultValue","formSubmitted","onClick","_submit","e","submit","decimalSeparator","toLocaleString","Expense","parameters","dateProvider","arguments","undefined","moment","categoryId","now","date","day","month","year","hour","minute","units","getDateMoment","format","fmtDate","obj","expense","ExpenseRepository","localStorage","_getExpenseKeys","getItem","JSON","parse","fromJsonObj","sort","b","diff","arrayJson","nummusPrefix","expenseKeys","setItem","stringify","removeItem","savedKey","list","currentAmount","get","set","Map","jsonString","forEach","delete","add","yearMonth","yearMonthMoment","toMoment","expenseDate","MonthlyBudget","categoryBudgets","CategoryBudget","budgeted","Math","floor","BudgetRepository","categoryRepository","currentDateProvider","_localStorage","_categoryRepository","_dateProvider","_initializeBudgets","_now","_findOrCreate","listMonths","m","found","budget","_parseObject","assign","fromCategory","newBudget","monthlyBudget","k","startsWith","YearMonth","reverse","is_current","subtract","_class","ExpenseHistory","expenses","categoriesById","formattedAmount","formattedDate","deleteExpense","rows","makeItem","expenseRepository","findBy","selectedMonth","Category","CategoryRepository","localeCompare","AutoIncrementIdGenerator","ExpensesDash","components_ExpenseForm","expenseAdded","components_ExpenseHistory","_expenseHistory","nextId","idGenerator","next","createFromState","unit","x","BudgetInput","newAmount","categoryBudget","setBudget","budgetUpdated","_amountInput","updateBudget","BudgetDash","_budgetInputs","_budget","budgetRepository","currentMonthlyBudget","remainingAmounts","spent","amountSpentByCategory","remaining","update","tbody","components_BudgetInput","getAmount","MonthSelector","onMonthChanged","findMonth","months","currentMonth","options","monthChanged","AdminDash","dump","loadDump","_dumpInput","textAreaChanged","_submitButton","UUIDGenerator","uuid","App","components_ExpensesDash","components_BudgetDash","amountsByCategory","components_AdminDash","BrowserRouter","data-dropdown-menu","Link","to","components_MonthSelector","Route","exact","path","component","makeExpensesDash","makeBudgetDash","makeAdminDash","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","log","catch","error","ReactDOM","render","components_App","document","getElementById","addEventListener","platforms","userChoice","outcome","URL","process","origin","fetch","response","status","headers","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.df9bbd2e.chunk.js","sourcesContent":["\nconst decimalSeparator = \".\";\nclass AmountFormatter {\n\n  constructor() {\n    this.inputDigits = '';\n  }\n\n  formatted() {\n    const cents = this.formattedCents();\n\n    let centsPart = cents.substring(cents.length - 2, cents.length);\n    let unitsPart = cents.substring(0, cents.length - 2);\n    return `${unitsPart}${decimalSeparator}${centsPart}`;\n  }\n\n  formattedCents() {\n    const missingDigits = 4 - this.inputDigits.length;\n    if (missingDigits > 0) {\n      const leftDigits = [...Array(missingDigits).keys()].reduce((v) => '0' + v, '');\n      return leftDigits + this.inputDigits;\n    } else {\n      return this.inputDigits;\n    }\n  }\n\n  valueCents() {\n    return parseInt(this.formattedCents(), 10);\n  }\n\n  keyDown(digit) {\n    this.inputDigits = this.inputDigits + digit;\n  }\n\n  backspace() {\n    this.inputDigits = this.inputDigits.substring(0, this.inputDigits.length - 1);\n  }\n\n  clear() {\n    this.inputDigits = '';\n  }\n\n  static fromCents(amountCents) {\n    const formatter = new AmountFormatter();\n    const value = amountCents.toString();\n    for (let i = 0; i < value.length; i++) {\n      formatter.keyDown(value.charAt(i));\n    }\n    if (amountCents === 0) {\n      formatter.clear();\n    }\n    return formatter;\n  }\n}\n\nexport default AmountFormatter;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport AmountFormatter from \"../AmountFormatter\";\n\nclass AmountInput extends Component {\n\n  constructor(props) {\n    super(props);\n    this.amountFormatter = AmountFormatter.fromCents(this.props.initialValue);\n    this._amount = null;\n    this.state = {\n      value: this.props.initialValue,\n      formattedValue: this.amountFormatter.formatted()\n    };\n  }\n\n  static defaultProps = {\n    onDigit: () => console.warn(\"Unhadled onDigit\"),\n    onAmountChanged: () => undefined,\n    className: 'input-group-field amount-input',\n    initialValue: 0,\n  };\n\n  static propTypes = {\n    onDigit: PropTypes.func,\n    onAmountChanged: PropTypes.func,\n    initialValue: PropTypes.number,\n    inputClass: PropTypes.string,\n  };\n\n  amountChanged(event) {\n    let {key} = event;\n    event.preventDefault();\n    const keyCode = key.charCodeAt(0);\n    if (key === 'Tab') {\n      return;\n    }\n    event.preventDefault();\n    const isBackspace = key === 'Backspace';\n    const isDigit = keyCode >= '0'.charCodeAt(0) && keyCode <= '9'.charCodeAt(0);\n    if (isBackspace) {\n      this.amountFormatter.backspace();\n    } else if (isDigit) {\n      this.amountFormatter.keyDown(String.fromCharCode(keyCode));\n      this.props.onDigit(key);\n    }\n    this.props.onAmountChanged(this.amountFormatter.valueCents());\n    this.setState({\n      value: this.amountFormatter.valueCents(),\n      formattedValue: this.amountFormatter.formatted()\n    });\n  }\n\n  render() {\n    return (\n      <input\n        type='number'\n        className={this.props.inputClass}\n        name='amount'\n        onChange={() => undefined}\n        onKeyDown={this.amountChanged.bind(this)}\n        ref={(node) => {\n          this._amount = node;\n        }}\n        value={this.state.formattedValue}\n      />\n    );\n  }\n}\n\nexport default AmountInput\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport AmountFormatter from \"../AmountFormatter\";\nimport AmountInput from \"./AmountInput\";\n\nclass ExpenseForm extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {};\n    this._validationMessages = {};\n    this.amountFormatter = new AmountFormatter();\n  }\n\n  static defaultProps = {\n    onSubmit: (e, submit) => console.warn(\"Unhadled onSubmit\"),\n    onValidationError: () => console.warn(\"Unhadled validation error\"),\n    categories: [],\n  };\n\n  static propTypes = {\n    categories: PropTypes.array,\n    onSubmit: PropTypes.func,\n    onValidationError: PropTypes.func,\n  };\n\n  amountChanged(event) {\n    let {key} = event;\n    const keyCode = key.charCodeAt(0);\n    if (key === 'Tab') {\n      return;\n    }\n    event.preventDefault();\n    const isBackspace = key === 'Backspace';\n    const isDigit = keyCode >= '0'.charCodeAt(0) && keyCode <= '9'.charCodeAt(0);\n    if (isBackspace) {\n      this.amountFormatter.backspace();\n    } else if (isDigit) {\n      this.amountFormatter.keyDown(String.fromCharCode(keyCode));\n      this._validationMessages.amount.empty.className = 'form-error';\n    }\n    this._amount.value = this.amountFormatter.formatted();\n    this.setState({amount: this.amountFormatter.valueCents()});\n  }\n\n  clearErrors() {\n    this._validationMessages.amount.empty.className = 'form-error';\n  }\n\n  categorySelected(event) {\n    let {value} = event.target;\n    let categorySelected = this.props.categories.filter(c => c.id === parseInt(value, 10))[0];\n    this._validationMessages.category.empty.className = 'form-error';\n    this.setState({category: categorySelected});\n  }\n\n  formSubmitted() {\n    let onSubmit = this.props.onSubmit;\n    return (event) => {\n      let state = this.state;\n      const {category} = state;\n      const amount = this._amount.state.value;\n      const validationErrors = [];\n      if (!category) {\n        validationErrors.push({where: \"category\", type: \"empty_field\"});\n        this._validationMessages.category.empty.className = 'form-error is-visible';\n      }\n      if (!amount) {\n        validationErrors.push({where: \"amount\", type: \"empty_field\"});\n        this._validationMessages.amount.empty.className = 'form-error is-visible';\n      }\n      if (validationErrors.length !== 0) {\n        event.preventDefault();\n        this.props.onValidationError(validationErrors);\n        return;\n      }\n      this.setState({amount: null, category: null});\n      this.amountFormatter.clear();\n      this._amount.value = this.amountFormatter.formatted();\n      this._category.value = null;\n      onSubmit(event, { ...state, amount: amount });\n    }\n  }\n\n  render() {\n    const categories = this.props.categories.map((category, index) => {\n      return <option key={index} value={category.id}>{category.name}</option>\n    });\n\n    return (\n        <form className='expense-form'>\n          <label>\n            <div>\n            Amount\n              <div className=\"input-group\">\n                <span className=\"input-group-label\">€</span>\n                <AmountInput\n                  ref={(node) => this._amount = node}\n                  onDigit={this.clearErrors.bind(this)}\n                  inputClass='input-group-field amount-input'\n                />\n              </div>\n              <div className='form-error-container'>\n                <span ref={node => this._validationMessages.amount = {empty: node}} className='form-error'>\n                  Amount cannot be empty\n                </span>\n              </div>\n            </div>\n          </label>\n\n          <label>\n            <div>\n              Category\n              <select\n                defaultValue={0}\n                className='expense-form-category' name='category'\n                onChange={this.categorySelected.bind(this)}\n                ref={(node) => this._category = node}\n              >\n                <option value={0} />\n                {categories}\n              </select>\n              <div className='form-error-container'>\n                <span ref={node => this._validationMessages.category = {empty: node}} className='form-error'>\n                    Category cannot be empty\n                </span>\n              </div>\n            </div>\n          </label>\n\n          <input\n            type='submit'\n            className='expense-form-submit success button expanded large'\n            value='Add expense'\n            onSubmit={this.formSubmitted().bind(this)}\n            onClick={this.formSubmitted().bind(this)}\n            ref={(node) => this._submit = node}\n          />\n        </form>\n    );\n  }\n}\n\nexport default ExpenseForm\n","import moment from 'moment';\n\nconst decimalSeparator = (1.1).toLocaleString().substring(1, 2);\n\nclass Expense {\n  constructor(parameters, dateProvider = function() { return moment() }) {\n    const {id, amountCents, categoryId} = parameters;\n    this.id = id;\n    this.amountCents = amountCents;\n    this.categoryId = categoryId;\n    const now = dateProvider();\n    this.date = {\n      day: now.date(),\n      month: now.month() + 1,\n      year: now.year(),\n      hour: now.hour(),\n      minute: now.minute(),\n    }\n  }\n\n  static createFromState(id, state) {\n    let categoryId = state.category.id;\n\n    return new Expense({\n      id: id,\n      amountCents: state.amount,\n      categoryId: categoryId\n    });\n  }\n\n  amountAsString() {\n    let cents = this.amountCents % 10;\n    let units = this.amountCents / 10;\n    return `${units}${decimalSeparator}${cents}`;\n  }\n\n  formattedDate() {\n    if (!this.date) {\n      return '-'\n    }\n    return this.getDateMoment().format(\"DD-MM-YYYY HH:mm\");\n  }\n\n  static fromJsonObj(obj) {\n    const expense = new Expense({\n      id: obj.id,\n      amountCents: obj.amountCents,\n      categoryId: obj.categoryId\n    });\n\n    expense.date = obj.date;\n\n    if (expense.date) {\n      expense.date.hour = obj.date.hour || 12;\n      expense.date.minute = obj.date.minute || 0;\n    }\n    return expense;\n  }\n\n  getDateMoment() {\n    const fmtDate = `${this.date.day}-${this.date.month}-${this.date.year} ${this.date.hour}:${this.date.minute}`;\n    return moment(fmtDate, \"DD-MM-YYYY HH:mm\");\n  }\n}\n\nexport default Expense;\n","import Expense from \"./Expense\";\n\nconst nummusPrefix = \"nummus.io\";\nconst expenseKeysKey = nummusPrefix + \".expenseKeys\";\n\nclass ExpenseRepository {\n  localStorage;\n\n  constructor(localStorage) {\n    this.localStorage = localStorage;\n  }\n\n  list() {\n    return this._getExpenseKeys()\n      .map(this.localStorage.getItem.bind(this.localStorage))\n      .map(JSON.parse)\n      .map(Expense.fromJsonObj)\n      .sort((a, b) => -a.getDateMoment().diff(b.getDateMoment(), 'minutes'));\n  }\n\n  _getExpenseKeys() {\n    const arrayJson = this.localStorage.getItem(expenseKeysKey) || '[]';\n    return JSON.parse(arrayJson);\n  }\n\n  add(expense) {\n    let key = `${nummusPrefix}.expenses.${expense.id}`;\n    let expenseKeys = this._getExpenseKeys();\n    this.localStorage.setItem(key, JSON.stringify(expense));\n    expenseKeys.push(key);\n    this.localStorage.setItem(expenseKeysKey, JSON.stringify(expenseKeys));\n  }\n\n  delete(expense) {\n    let key = `${nummusPrefix}.expenses.${expense.id}`;\n    let expenseKeys = this._getExpenseKeys();\n    this.localStorage.removeItem(key);\n    expenseKeys = expenseKeys.filter(savedKey => savedKey !== key);\n    this.localStorage.setItem(expenseKeysKey, JSON.stringify(expenseKeys));\n  }\n\n  amountsByCategory() {\n    return this.list()\n      .reduce((map, expense) => {\n        const currentAmount = map.get(expense.categoryId) || 0;\n        map.set(expense.categoryId, currentAmount + expense.amountCents);\n        return map;\n      }, new Map());\n  }\n\n  dump() {\n    return JSON.stringify(this.list());\n  }\n\n  loadDump(jsonString) {\n    this.list().forEach(this.delete.bind(this));\n    JSON.parse(jsonString)\n      .map(Expense.fromJsonObj)\n      .forEach(this.add.bind(this));\n  }\n\n  findBy(yearMonth) {\n    let yearMonthMoment = yearMonth.toMoment();\n    return this.list()\n      .filter(expense => {\n        let expenseDate = expense.getDateMoment();\n        return expenseDate.month() === yearMonthMoment.month() && expenseDate.year() === yearMonthMoment.year();\n      });\n  }\n}\n\nexport default ExpenseRepository;\n","class MonthlyBudget {\n  constructor(id, categoryBudgets, month) {\n    this.id = id;\n    this.categoryBudgets = categoryBudgets;\n    this.month = month;\n  }\n\n}\n\nexport default MonthlyBudget;\n","const decimalSeparator = (1.1).toLocaleString().substring(1, 2);\n\nclass CategoryBudget {\n  constructor(id, budgeted, categoryId) {\n    this.id = id;\n    this.budgeted = budgeted;\n    this.categoryId = categoryId;\n  }\n\n  static fromCategory(yearMonth) {\n    return (category) =>\n      new CategoryBudget(`${category.id}_${yearMonth}`, 0, category.id);\n  }\n\n  setBudget(budgeted) {\n    this.budgeted = budgeted;\n  }\n\n  formatedBudgetedAmount() {\n    let cents = this.budgeted % 100;\n    let units = Math.floor(this.budgeted / 100);\n    return `${units}${decimalSeparator}${cents}`;\n  }\n}\n\nexport default CategoryBudget;\n","import moment from 'moment';\nimport MonthlyBudget from \"./MonthlyBudget\";\nimport CategoryBudget from \"./CategoryBudget\";\n\nconst nummusPrefix = \"nummus.io\";\n\nclass BudgetRepository {\n  constructor(localStorage, categoryRepository, dateProvider = currentDateProvider) {\n    this._localStorage = localStorage;\n    this._categoryRepository = categoryRepository;\n    this._dateProvider = dateProvider;\n    this._initializeBudgets();\n  }\n\n  list() {\n    return this.categories;\n  }\n\n  _now() {\n    return this._dateProvider()\n  }\n\n  currentMonthlyBudget() {\n    const yearMonth = this._now().format(\"YYYY_MM\");\n    return this._findOrCreate(yearMonth);\n  }\n\n  findMonth(yearMonth) {\n    return this.listMonths().filter(m => m.yearMonth === yearMonth)[0];\n  }\n\n  _findOrCreate(yearMonth) {\n    const key = `${nummusPrefix}.monthlyBudgets.${yearMonth}`;\n    const found = this._localStorage.getItem(key);\n\n    if (found) {\n      const budget = this._parseObject(found);\n      budget.categoryBudgets = budget.categoryBudgets.map(obj => Object.assign(new CategoryBudget(), obj));\n      return budget;\n    }\n\n    const categoryBudgets = this._categoryRepository.list()\n      .map(CategoryBudget.fromCategory(yearMonth));\n\n    const newBudget = new MonthlyBudget(key, categoryBudgets, yearMonth);\n\n    this._localStorage.setItem(key, JSON.stringify(newBudget));\n    return newBudget;\n  }\n\n  _parseObject(found) {\n    return Object.assign(new MonthlyBudget(), JSON.parse(found));\n  }\n\n  update(monthlyBudget) {\n    const key = `${nummusPrefix}.monthlyBudgets.${monthlyBudget.month}`;\n    this._localStorage.setItem(key, JSON.stringify(monthlyBudget));\n  }\n\n  listMonths() {\n    return Object.keys(this._localStorage)\n      .filter(k => k.startsWith(\"nummus.io.monthlyBudgets\"))\n      .map(k => this._parseObject(this._localStorage.getItem(k)))\n      .map(budget => new BudgetRepository.YearMonth(budget.month, this._dateProvider))\n      .sort()\n      .reverse()\n  }\n\n  currentMonth() {\n    return this.listMonths().filter(m => m.is_current)[0];\n  }\n\n  _initializeBudgets() {\n    this._findOrCreate(this._now().add(1, 'month').format(\"YYYY_MM\"));\n    this._findOrCreate(this._now().format(\"YYYY_MM\"));\n    this._findOrCreate(this._now().subtract(1, 'month').format(\"YYYY_MM\"));\n  }\n\n  static YearMonth = class {\n    constructor(yearMonth, dateProvider = currentDateProvider) {\n      this.is_current = dateProvider().format(\"YYYY_MM\") === yearMonth;\n      this.yearMonth = yearMonth;\n    }\n\n    formatted() {\n      return this.toMoment().format(\"MMM YY\");\n    }\n\n    toMoment() {\n      return moment(this.yearMonth, \"YYYY_MM\")\n    }\n\n  }\n}\n\nfunction currentDateProvider() {\n  return moment();\n}\n\nexport default BudgetRepository;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ExpenseRepository from \"../../domain/ExpenseRepository\";\nimport AmountFormatter from \"../AmountFormatter\";\nimport BudgetRepository from \"../../domain/BudgetRepository\";\n\n\nclass ExpenseHistory extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      expenses: this.props.expenses\n    };\n  }\n\n  static propTypes = {\n    expenseRepository: PropTypes.instanceOf(ExpenseRepository),\n    selectedMonth: PropTypes.instanceOf(BudgetRepository.YearMonth),\n    expenses: PropTypes.array,\n    categoriesById: PropTypes.object,\n  };\n\n  makeItem(expense, index) {\n    let category = this.props.categoriesById.get(expense.categoryId);\n    const formattedAmount = AmountFormatter.fromCents(expense.amountCents).formatted();\n    return (<tr key={index}>\n      <td>{expense.formattedDate()}</td>\n      <td>€{formattedAmount}</td>\n      <td>{category.name}</td>\n      <td>\n        <input\n          type='button'\n          value='Delete'\n          className='delete-expense alert button expanded'\n          onClick={this.deleteExpense(expense).bind(this)}\n        />\n      </td>\n    </tr>)\n  }\n\n  render() {\n    const rows = this.state.expenses.map(this.makeItem.bind(this));\n    return (<table>\n      <tbody>\n        {rows}\n      </tbody>\n    </table>);\n  }\n\n  deleteExpense(expense) {\n    return () => {\n      this.props.expenseRepository.delete(expense);\n      this.setState({ expenses: this.props.expenseRepository.findBy(this.props.selectedMonth)});\n    }\n  }\n}\n\nexport default ExpenseHistory\n","class Category {\n  constructor(id, name) {\n    this.name = name;\n    this.id = id;\n  }\n\n}\n\nexport default Category;\n","import Category from \"./Category\";\n\nclass CategoryRepository {\n\n  constructor() {\n    const categories = [\n      'fun',\n      'groceries',\n      'travel',\n      'dining out',\n      'rent',\n      'home expense',\n      'sports',\n      'transportation',\n      'lunch @ work',\n    ].map((name, index) => {\n      return new Category(index, name)\n    });\n\n    this.categories = categories.sort((a, b) => a.name.localeCompare(b.name));\n  }\n\n  list() {\n    return this.categories;\n  }\n\n  categoriesById() {\n    return this.list().reduce((map, v) => map.set(v.id, v), new Map())\n  }\n}\n\nexport default CategoryRepository;\n","class AutoIncrementIdGenerator {\n  id;\n\n  constructor() {\n    this.id = 0;\n  }\n\n  next() {\n    this.id++;\n    return this.id;\n  }\n}\n\nexport default AutoIncrementIdGenerator;\n","import React, {Component} from 'react';\nimport '../../../css/App.css';\nimport '../../../css/index.css';\nimport ExpenseForm from \"./ExpenseForm\";\nimport ExpenseHistory from \"./ExpenseHistory\";\nimport Expense from \"../../domain/Expense\";\nimport ExpenseRepository from \"../../domain/ExpenseRepository\";\nimport CategoryRepository from \"../../domain/CategoryRepository\";\nimport AutoIncrementIdGenerator from \"../../domain/AutoIncrementIdGenerator\";\nimport PropTypes from 'prop-types';\nimport BudgetRepository from \"../../domain/BudgetRepository\";\n\nclass ExpensesDash extends Component {\n\n  constructor(props) {\n    super(props);\n    this.categories = this.props.categoryRepository.list();\n    this.categoriesById = this.props.categoryRepository.categoriesById();\n    this.expenseRepository = this.props.expenseRepository || new ExpenseRepository(localStorage);\n    this.state = {\n      expenses: this.expenseRepository.findBy(this.props.selectedMonth)\n    };\n  }\n\n  static defaultProps = {\n    idGenerator: new AutoIncrementIdGenerator(),\n  };\n\n  static propTypes = {\n    idGenerator: PropTypes.shape({\n      next: PropTypes.func,\n    }),\n    categoryRepository: PropTypes.instanceOf(CategoryRepository),\n    expenseRepository: PropTypes.instanceOf(ExpenseRepository),\n    selectedMonth: PropTypes.instanceOf(BudgetRepository.YearMonth),\n  };\n\n\n  render() {\n    return (\n      <div className=\"grid-x grid-padding-x\">\n          <div className=\"large-6 medium-6 cell\">\n            <ExpenseForm\n                categories={this.categories}\n                onSubmit={this.expenseAdded.bind(this)}\n            />\n          </div>\n          <div className=\"large-6 medium-6 cell\">\n            <ExpenseHistory\n                categoriesById={this.categoriesById}\n                expenses={this.state.expenses}\n                expenseRepository={this.expenseRepository}\n                selectedMonth={this.props.selectedMonth}\n                ref={(node) => this._expenseHistory = node}\n            />\n          </div>\n      </div>\n    );\n  }\n\n  expenseAdded(event, state) {\n    event.preventDefault();\n\n    const nextId = this.props.idGenerator.next();\n    let expense = Expense.createFromState(nextId, state);\n    this.expenseRepository.add(expense);\n\n    this._expenseHistory.setState({\n      expenses: this.expenseRepository.findBy(this.props.selectedMonth)\n    });\n\n    this.setState({\n      expenses: this.expenseRepository.findBy(this.props.selectedMonth)\n    });\n  }\n}\n\nexport default ExpensesDash;\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport AmountInput from \"./AmountInput\";\nimport CategoryBudget from \"../../domain/CategoryBudget\";\n\nconst unit = x => x;\nclass BudgetInput extends Component {\n\n  // constructor(props) {\n  //   super(props);\n  // }\n\n  static propTypes = {\n    categoryBudget: PropTypes.instanceOf(CategoryBudget),\n    budgetUpdated: PropTypes.func,\n  };\n\n  static defaultProps = {\n    budgetUpdated: () => undefined\n  };\n\n  updateBudget(newAmount) {\n    this.props.categoryBudget.setBudget(newAmount);\n    this.props.budgetUpdated();\n  }\n\n  render() {\n    return (\n      <div className=\"input-group budget-input-group\">\n        <span className=\"input-group-label\">€</span>\n        <AmountInput\n          ref={node => this._amountInput = node}\n          initialValue={this.props.categoryBudget.budgeted}\n          onDigit={unit}\n          onAmountChanged={this.updateBudget.bind(this)}\n          inputClass='input-group-field budget-input'\n        />\n      </div>\n    );\n  }\n}\n\nexport default BudgetInput\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport CategoryRepository from \"../../domain/CategoryRepository\";\nimport BudgetRepository from \"../../domain/BudgetRepository\";\nimport BudgetInput from \"./BudgetInput\";\nimport AmountFormatter from \"../AmountFormatter\";\n\nclass BudgetDash extends Component {\n  static propTypes = {\n    budgetRepository: PropTypes.instanceOf(BudgetRepository),\n    categoryRepository: PropTypes.instanceOf(CategoryRepository),\n    amountSpentByCategory: PropTypes.instanceOf(Map),\n  };\n\n  constructor(props) {\n    super(props);\n    this.categoriesById = this.props.categoryRepository.categoriesById();\n    this._budgetInputs = [];\n    this._budget = this.props.budgetRepository.currentMonthlyBudget();\n    this.remainingAmounts = this._budget.categoryBudgets.reduce((remainingAmounts, budget) => {\n      const spent = this.props.amountSpentByCategory.get(budget.categoryId) || 0;\n      const remaining = budget.budgeted - spent;\n      remainingAmounts.set(budget.categoryId, AmountFormatter.fromCents(remaining).formatted());\n      return remainingAmounts;\n    }, new Map());\n    this.state = {\n      remainingAmounts: this.remainingAmounts\n    };\n  }\n\n  budgetUpdated(categoryBudget) {\n    return () => {\n      const spent = this.props.amountSpentByCategory.get(categoryBudget.categoryId) || 0;\n      const remaining = categoryBudget.budgeted - spent;\n      this.state.remainingAmounts.set(categoryBudget.categoryId, AmountFormatter.fromCents(remaining).formatted());\n      this.setState({\n        remainingAmounts: this.state.remainingAmounts\n      });\n      this.props.budgetRepository.update(this._budget);\n    }\n  }\n\n  remainingAmount(categoryBudget) {\n    const spent = this.props.amountSpentByCategory.get(categoryBudget.categoryId) || 0;\n    const remaining = categoryBudget.budgeted - spent;\n    return AmountFormatter.fromCents(remaining).formatted();\n  }\n\n  render() {\n    const tbody = this._budget.categoryBudgets.map(categoryBudget =>\n      <tr key={categoryBudget.id}>\n        <td>{this.categoriesById.get(categoryBudget.categoryId).name}</td>\n        <td>\n          <BudgetInput\n            ref={node => this._budgetInputs.push(node)}\n            categoryBudget={categoryBudget}\n            budgetUpdated={this.budgetUpdated(categoryBudget).bind(this)}\n          />\n        </td>\n        <td>\n          €{this.getAmount(categoryBudget)}\n        </td>\n      </tr>\n    );\n    return (\n      <div>\n        <h1>Budget dash</h1>\n        <table>\n          <thead>\n            <tr className='category-budget'>\n              <th>Category</th>\n              <th>Budgeted</th>\n              <th>Available</th>\n            </tr>\n          </thead>\n          <tbody>\n            {tbody}\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n\n  getAmount(categoryBudget) {\n    return this.state.remainingAmounts.get(categoryBudget.categoryId);\n  }\n}\n\nexport default BudgetDash;\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport BudgetRepository from \"../../domain/BudgetRepository\";\n\nclass MonthSelector extends Component {\n  static propTypes = {\n    budgetRepository: PropTypes.instanceOf(BudgetRepository),\n    onMonthChanged: PropTypes.func,\n  };\n\n  monthChanged(event) {\n    this.props.onMonthChanged(this.props.budgetRepository.findMonth(event.target.value));\n  }\n\n  render() {\n    let months = this.props.budgetRepository.listMonths();\n    let currentMonth = this.props.budgetRepository.currentMonth();\n    let options = months.map(month => {\n      return <option\n        value={month.yearMonth}\n        key={month.yearMonth}>\n        {month.formatted()}\n      </option>\n    });\n    return (\n      <div>\n        <select\n          defaultValue={currentMonth.yearMonth}\n          onChange={this.monthChanged.bind(this)}>\n          {options}\n        </select>\n      </div>\n    );\n  }\n\n}\n\nexport default MonthSelector;\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport ExpenseRepository from \"../../domain/ExpenseRepository\";\n\nclass AdminDash extends Component {\n  static propTypes = {\n    expenseRepository: PropTypes.instanceOf(ExpenseRepository),\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {};\n    this.state.dump = this.props.expenseRepository.dump();\n  }\n\n  loadDump() {\n    this.props.expenseRepository.loadDump(this.state.dump);\n  }\n\n  textAreaChanged(event) {\n    this.setState({\n      dump: event.target.value\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        <h1>Admin</h1>\n        <textarea\n          ref={(node) => this._dumpInput = node}\n          value={this.state.dump}\n          onChange={this.textAreaChanged.bind(this)}\n        />\n        <button\n          ref={(node) => this._submitButton = node}\n          onClick={this.loadDump.bind(this)}>\n          Load dump\n        </button>\n      </div>\n    );\n  }\n\n  getAmount(categoryBudget) {\n    return this.state.remainingAmounts.get(categoryBudget.categoryId);\n  }\n}\n\nexport default AdminDash;\n","import uuid from 'uuid/v4';\n\nclass UUIDGenerator {\n  next() {\n    return uuid();\n  }\n}\n\nexport default UUIDGenerator;\n","import React, {Component} from 'react';\nimport ExpensesDash from \"./ExpensesDash\";\nimport BudgetDash from \"./BudgetDash\";\nimport MonthSelector from \"./MonthSelector\";\nimport AdminDash from \"./AdminDash\";\nimport {BrowserRouter as Router, Link, Route} from 'react-router-dom'\nimport UUIDGenerator from \"../../domain/UUIDGenerator\";\nimport CategoryRepository from \"../../domain/CategoryRepository\";\nimport BudgetRepository from \"../../domain/BudgetRepository\";\nimport ExpenseRepository from \"../../domain/ExpenseRepository\";\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props);\n    this.categoryRepository = new CategoryRepository();\n    this.budgetRepository = new BudgetRepository(localStorage, this.categoryRepository);\n    this.expenseRepository = new ExpenseRepository(localStorage);\n\n    this.state = {\n      selectedMonth: this.budgetRepository.currentMonth()\n    }\n  }\n\n  makeExpensesDash() {\n    return <ExpensesDash\n      idGenerator={new UUIDGenerator()}\n      categoryRepository={this.categoryRepository}\n      selectedMonth={this.state.selectedMonth}\n    />;\n  }\n\n  makeBudgetDash() {\n    return <BudgetDash\n      categoryRepository={this.categoryRepository}\n      budgetRepository={this.budgetRepository}\n      amountSpentByCategory={this.expenseRepository.amountsByCategory()}\n    />\n  }\n\n  makeAdminDash() {\n    return <AdminDash\n      expenseRepository={this.expenseRepository}\n    />\n  }\n\n  monthChanged(month) {\n    this.setState({\n      selectedMonth: month\n    });\n  }\n\n  render() {\n    return (\n      <Router>\n        <div>\n          <div className=\"top-bar\" id=\"responsive-menu\">\n            <div className=\"top-bar-left\">\n              <ul className=\"dropdown menu\" data-dropdown-menu>\n                <li className=\"menu-text\"><Link to=\"/nummus/\">Nummus</Link></li>\n                <li>\n                  <Link to=\"/nummus/budget/\">Budget</Link>\n                </li>\n                <li>\n                  <Link to=\"/nummus/\">Expense</Link>\n                </li>\n                <li>\n                  <MonthSelector budgetRepository={this.budgetRepository} onMonthChanged={this.monthChanged.bind(this)}/>\n                </li>\n              </ul>\n            </div>\n          </div>\n          <div className=\"grid-container main-container\">\n            <Route exact path=\"/nummus/\" component={this.makeExpensesDash.bind(this)}/>\n            <Route path=\"/nummus/budget/\" component={this.makeBudgetDash.bind(this)}/>\n            <Route path=\"/nummus/admin/\" component={this.makeAdminDash.bind(this)}/>\n          </div>\n        </div>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  const shouldRegister = process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator;\n  // const shouldRegister = true;\n  if (shouldRegister) {\n    window.addEventListener(\"beforeinstallprompt\", function(e) {\n      // log the platforms provided as options in an install prompt\n      console.log(e.platforms); // e.g., [\"web\", \"android\", \"windows\"]\n      e.userChoice.then(function(outcome) {\n        console.log(outcome); // either \"accepted\" or \"dismissed\"\n      }, () => undefined);\n    });\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './main/css/index.css';\nimport App from './main/js/application/components/App';\nimport registerServiceWorker from './main/js/registerServiceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\nregisterServiceWorker();\n"],"sourceRoot":""}